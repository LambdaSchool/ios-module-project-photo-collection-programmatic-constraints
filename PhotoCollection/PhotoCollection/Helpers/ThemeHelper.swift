//
//  ThemeHelper.swift
//  PhotoCollection
//
//  Created by Spencer Curtis on 8/2/18.
//  Copyright Â© 2018 Lambda School. All rights reserved.
//

import UIKit

class ThemeHelper {
    
    private let themePreferenceKey = "themePreference"
    
    var themePreference: String? {
        return UserDefaults.standard.string(forKey: themePreferenceKey)
    }
    
    init() {
        guard themePreference == nil else { return }
        setThemePreferenceToDark()
    }
    
    func setThemePreferenceToDark() {
        UserDefaults.standard.set("Dark", forKey: themePreferenceKey)
    }
    
    func setThemePreferenceToBlue() {
        UserDefaults.standard.set("Blue", forKey: themePreferenceKey)
    }
}

extension UIView {
    func setTheme(with themeHelper: ThemeHelper) {
    
        guard let themePreference = themeHelper.themePreference else { return }
        
        var backgroundColor: UIColor!
        
        switch themePreference {
        case "Dark":
            backgroundColor = UIColor(white: 0.1, alpha: 1)
        case "Blue":
            backgroundColor = UIColor(red: 61/255, green: 172/255, blue: 247/255, alpha: 1)
        default:
            break
        }
        
        self.backgroundColor = backgroundColor
    }
}
